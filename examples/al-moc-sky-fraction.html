<!doctype html>
<html>
<head>
</head>
<body>
<div id="aladin-lite-div" style="width: 1024px; height: 768px"></div>

<script type="module">
  import A from '../src/js/A.js';
    let aladin;
    A.init.then(() => {
        aladin = A.aladin('#aladin-lite-div', {survey: "CDS/P/DSS2/color", target: 'M51', fov: 180, fullScreen: true});

        var json = {
            "3": [13, 24],
            "4": [36, 37, 48, 49, 51, 87, 91, 93, 94, 100, 101, 112, 430, 1553, 1555, 
              1556, 1558, 1564, 2576, 2577, 2579, 2585, 2587, 2618, 2704, 2706, 2712, 
              2714, 2736, 2738, 2745, 2747, 2848],
            "5": [156, 157, 200, 201, 203, 241, 244, 319, 341, 343, 359, 361, 362, 363, 
              369, 370, 371, 380, 381, 382, 408, 409, 412, 413, 452, 453, 454, 456, 457, 
              458, 464, 465, 468, 1710, 1711, 1724, 1725, 1726, 4463, 4474, 4475, 6209, 
              6245, 10261, 10263, 10312, 10313, 10315, 10337, 10339, 10345, 10347, 
              10433, 10435, 10436, 10437, 10438, 10441, 10443, 10444, 10446, 10465, 
              10466, 10467, 10468, 10470, 10476, 10478, 10820, 10822, 10828, 10830, 
              10852, 10854, 10860, 10862, 10948, 10950, 10956, 10958, 10959, 10977, 
              10979, 10985, 10987, 10994, 11000, 11002, 11003, 11305, 11306, 11307, 
              11400, 11401, 11402],
            "6": [238, 239, 250, 251, 254, 255, 506, 535, 541, 612, 613, 615, 633, 636, 
              637, 808, 809, 811, 916, 917, 960, 961, 963, 980, 981, 982, 1199, 1211, 
              1213, 1214, 1215, 1256, 1258, 1259, 1262, 1263, 1274, 1275, 1363, 1369, 
              1371, 1389, 1390, 1391, 1423, 1431, 1433, 1434, 1435, 1441, 1442, 1443, 
              1473, 1474, 1475, 1532, 1533, 1534, 1640, 1641, 1642, 1656, 1657, 1660, 
              1661, 1663, 1664, 1665, 1668, 1669, 1680, 1820, 1821, 1822, 1836, 1837, 
              1838, 1840, 1842, 1876, 1880, 6826, 6827, 6829, 6830, 6831, 6838, 6839, 
              6862, 6874, 6875, 6878, 6908, 6909, 6910, 7072, 17829, 17831, 17840, 
              17842, 17843, 17846, 17847, 17848, 17849, 17890, 17914, 17915, 18241, 
              18244, 18245, 18256, 18257, 18260, 24844, 24845, 24847, 24869, 24871, 
              24877, 24912, 24944, 24946, 24954, 24976, 24977, 24988, 24989, 24991, 
              25056, 25057, 25059, 25060, 41041, 41043, 41049, 41051, 41076, 41077, 
              41257, 41280, 41281, 41282, 41288, 41314, 41315, 41320, 41321, 41322, 
              41345, 41347, 41353, 41355, 41377, 41379, 41385, 41387, 41408, 41410, 
              41416, 41418, 41448, 41450, 41727, 41729, 41731, 41737, 41756, 41757, 
              41758, 41761, 41763, 41769, 41771, 41780, 41788, 41790, 41792, 41856, 
              41857, 41859, 41886, 41908, 41910, 41916, 41918, 43101, 43103, 43125, 
              43127, 43133, 43135, 43221, 43223, 43229, 43231, 43253, 43255, 43261, 
              43262, 43263, 43284, 43286, 43292, 43294, 43316, 43318, 43324, 43326, 
              43422, 43444, 43446, 43452, 43454, 43605, 43607, 43612, 43613, 43615, 
              43637, 43639, 43645, 43796, 43798, 43804, 43806, 43828, 43829, 43830, 
              43904, 43905, 43907, 43912, 43913, 43915, 43937, 43939, 43947, 43968, 
              43970, 43971, 44004, 44006, 45217, 45219, 45242, 45584, 45586, 45592, 
              45612, 45613, 45696],
            "7": [1706, 1707, 1786, 1787, 1790, 1791, 1962, 1963, 1966, 1967, 1978, 1979, 
              1982, 1983, 3240, 3241, 3243, 3652, 3653, 3655, 3848, 3849, 3932, 3933, 
              3934, 4841, 4842, 4843, 5085, 5086, 5087, 5481, 5482, 5483, 5533, 5534, 
              5535, 5689, 5690, 5691, 6140, 6141, 6142, 6576, 6577, 6578, 6648, 6649, 
              6651, 6664, 6665, 6724, 6725, 7364, 7365, 7366, 7456, 7457, 7458, 7476, 
              7477, 7479, 7680, 7681, 27314, 27315, 27341, 27342, 27343, 27350, 27351, 
              27453, 27454, 27455, 27516, 27518, 27519, 27644, 27645, 27646, 98302, 
              98303, 99384, 99385, 99387, 99656, 99658, 99680, 99682, 99688, 99690, 
              99691, 99808, 99809, 99810, 99916, 99917, 99919, 165036, 165037, 165039, 
              165248, 165250, 165251, 165292, 165293, 165294, 165768, 165770, 165771, 
              166920, 166956, 166957, 166959, 167433, 167434, 167435, 167504, 167506, 
              167512, 167514, 167536, 167538, 167539, 172373, 172375, 172381, 172383, 
              173648, 173650, 173656, 173658, 173680, 173682, 173683, 174417, 174419, 
              174425, 174427, 175324, 175326, 175327, 175624, 175625, 175627, 175780, 
              175781, 175783, 175928, 175930, 175931, 176028, 176030, 176031, 180873, 
              180874, 180875, 180960, 180962, 180963, 182376, 182377, 182378, 182456, 
              182457, 182458, 182788, 182789, 182790, 182792, 182793, 182794],
            "8": [667684, 667685, 667686],
            "9": [2670748, 2670749],
            "10": [10683000, 10683001]
          };
          var moc = A.MOCFromJSON(json, {opacity: 0.25, color: 'magenta', lineWidth: 1});

          aladin.addMOC(moc);

          const skyFraction = moc.skyFraction();
          console.assert(0.027083873748779297==skyFraction, "Sky fraction ", skyFraction, "not equal to", 0.02708387374877929);
    });
</script>

</body>
</html>
